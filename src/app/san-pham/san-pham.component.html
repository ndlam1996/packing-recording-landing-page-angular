<div class="products-container" [class.hide-header]="hideHeader">
  <!-- <h1>S·∫£n Ph·∫©m</h1> -->

  @if(!hideHeader){<div class="product-section">
    <div class="product-card main-product">
      <!-- <div class="product-header">
        <h2>CAM CHECK - ·ª®ng D·ª•ng Quay Video ƒê√≥ng H√†ng</h2>
        <span class="product-badge">S·∫£n ph·∫©m ch√≠nh</span>
      </div> -->

      <!-- <div class="product-content">
        <div class="product-image">
          <img src="assets/image/dashboard.png" alt="CAM CHECK Dashboard" class="main-image">
        </div>

        <div class="product-info">
          <h3>T√≠nh nƒÉng n·ªïi b·∫≠t:</h3>
          <ul class="feature-list">
            <li>üé• Quay video ch·∫•t l∆∞·ª£ng cao trong qu√° tr√¨nh ƒë√≥ng h√†ng</li>
            <li>üì¶ Theo d√µi v√† ghi l·∫°i to√†n b·ªô quy tr√¨nh ƒë√≥ng g√≥i</li>
            <li>üíæ L∆∞u tr·ªØ video an to√†n theo m√£ v·∫≠n ƒë∆°n</li>
            <li>üîç T√¨m ki·∫øm video nhanh ch√≥ng theo m√£ ƒë∆°n h√†ng</li>
            <li>üì± Giao di·ªán th√¢n thi·ªán, d·ªÖ s·ª≠ d·ª•ng</li>
            <li>‚öôÔ∏è C·∫•u h√¨nh camera linh ho·∫°t (webcam, smartphone)</li>
            <li>üìä B√°o c√°o th·ªëng k√™ chi ti·∫øt</li>
          </ul>
        </div>
      </div> -->

      <div class="pricing-section">
        <h3>G√≥i d·ªãch v·ª•:</h3>
        <div class="pricing-cards">
          <div class="price-card">
            <h4>G√≥i Free</h4>
            <p class="price">Mi·ªÖn ph√≠</p>
            <ul>
              <li>10 l∆∞·ª£t ghi video/ng√†y</li>
              <li>L∆∞u tr·ªØ local</li>
              <li>H·ªó tr·ª£ c∆° b·∫£n</li>
            </ul>
          </div>

          <div class="price-card premium">
            <h4>G√≥i Premium</h4>
            <ul class="premium-pricing-list">
              <li><strong>99,000‚Ç´/th√°ng</strong></li>
              <li><strong>6 th√°ng:</strong> <span class="highlight">79,000‚Ç´/th√°ng</span> <span class="total">T·ªïng:
                  474,000‚Ç´</span></li>
              <li><strong class="original-price">1.188.000‚Ç´/nƒÉm</strong> ‚Üí <span class="highlight">49,000‚Ç´/th√°ng</span>
                (<span class="total">590.000‚Ç´/nƒÉm</span>)</li>
              <li class="save-note">Ti·∫øt ki·ªám <span class="save-percent">50%</span> khi thanh to√°n nƒÉm</li>
            </ul>
            <ul class="premium-feature-list">
              <li>Kh√¥ng gi·ªõi h·∫°n video</li>
              <li>L∆∞u tr·ªØ cloud (S·∫Øp ra m·∫Øt)</li>
              <li>H·ªó tr·ª£ 24/7</li>
              <li>T√πy ch·ªânh n√¢ng cao</li>
            </ul>
            <span class="trial-badge">30 ng√†y mi·ªÖn ph√≠</span>
            <button class="buy-now-btn" (click)="openContactPopup()">Mua ngay</button>
          </div>
        </div>
      </div>

    </div>
  </div>}

  <!-- Product Cards Section -->
  <div class="product-cards-section">
    <h2>S·∫£n ph·∫©m n·ªïi b·∫≠t</h2>
    <div class="products-grid">
      <app-product-card *ngFor="let product of products" [product]="product"
        (buyNow)="openContactPopup(product)"></app-product-card>
    </div>

    <!-- Popup th√¥ng tin li√™n h·ªá -->
    <div class="contact-popup" *ngIf="showContactPopup">
      <div class="popup-content">
        <button class="close-btn" (click)="closeContactPopup()">√ó</button>
        <h3>Li√™n h·ªá mua h√†ng</h3>
        <div class="contact-list">
          <a href="https://zalo.me/0363923471" target="_blank" class="contact-item">
            <img src="assets/logo/zalo-icon.png" alt="Zalo" class="contact-icon" />
            <span>Zalo: 0363923471</span>
          </a>
          <a href="https://www.facebook.com/quayvideodongdon" target="_blank" class="contact-item">
            <img src="assets/logo/facebook-icon.webp" alt="Facebook" class="contact-icon" />
            <span>Facebook: CAM CHECK</span>
          </a>
          @if(selectedProduct?.shopeeLink){ <div class="shopee-row">
            <a [href]="selectedProduct?.shopeeLink" target="_blank" class="contact-item shopee">
              <img src="assets/logo/shopee-logo.jpg" alt="Shopee" class="contact-icon" />
              <span>Shopee: CAM CHECK</span>
              <button class="copy-btn" (click)="copyShopeeLink($event)" [class.copied]="isCopied"
                (mouseenter)="showTooltip = true" (mouseleave)="showTooltip = false">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="copy-icon">
                  <rect width="14" height="14" x="8" y="8" rx="2" ry="2" />
                  <path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" />
                </svg>
              </button>
            </a>
          </div>}
        </div>

        <!-- Tooltip ngo√†i th·∫ª a -->
        <div class="copy-tooltip" *ngIf="showTooltip || isCopied" [class.copied]="isCopied">
          {{isCopied ? 'ƒê√£ copy!' : 'Copy link'}}
        </div>
      </div>
      <div class="popup-overlay" (click)="closeContactPopup()"></div>
    </div>
  </div>
  <app-support-contact></app-support-contact>
</div>